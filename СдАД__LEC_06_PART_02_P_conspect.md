# Выбросы в данных: определение и методы выявления

## Определение выбросов

**Выбросы** — это аномальные значения в наборе данных, которые могут существенно влиять на статистические характеристики и анализ данных. В данном конспекте рассматриваются два метода определения выбросов: через *интерквартильный размах* и через *среднее квадратичное отклонение*.

## Методы определения выбросов

### Интерквартильный размах

1. **Определение интерквартильного размаха (IQR):**
   - Найти первый квартиль (Q1) и третий квартиль (Q3).
   - IQR = Q3 - Q1.

2. **Определение границ выбросов:**
   - Нижняя граница: Q1 - 1,5 * IQR.
   - Верхняя граница: Q3 + 1,5 * IQR.

3. **Выявление выбросов:**
   - Все значения ниже нижней границы и выше верхней границы считаются выбросами.

```mermaid
flowchart LR
    A[Найти Q1 и Q3] --> B[Вычислить IQR = Q3 - Q1]
    B --> C[Определить нижнюю границу: Q1 - 1.5 * IQR]
    B --> D[Определить верхнюю границу: Q3 + 1.5 * IQR]
    C --> E[Выявить выбросы ниже нижней границы]
    D --> F[Выявить выбросы выше верхней границы]
```

*Диаграмма выше иллюстрирует процесс выявления выбросов через интерквартильный размах.*

![](images/СдАД__LEC_06_PART_02_P/000239s_top_7.jpg)

### Среднее квадратичное отклонение

1. **Определение среднего значения и стандартного отклонения:**
   - Среднее значение (mean).
   - Стандартное отклонение (std).

2. **Определение границ выбросов:**
   - Нижняя граница: mean - 2,5 * std.
   - Верхняя граница: mean + 2,5 * std.

3. **Выявление выбросов:**
   - Все значения ниже нижней границы и выше верхней границы считаются выбросами.

```mermaid
flowchart LR
    A[Вычислить среднее значение и стандартное отклонение] --> B[Определить нижнюю границу: mean - 2.5 * std]
    A --> C[Определить верхнюю границу: mean + 2.5 * std]
    B --> D[Выявить выбросы ниже нижней границы]
    C --> E[Выявить выбросы выше верхней границы]
```

*Диаграмма выше показывает процесс выявления выбросов через среднее квадратичное отклонение.*

## Влияние выбросов на меры центральной тенденции

Выбросы могут существенно влиять на среднее значение и медиану. В частности, они могут искажать среднее значение, делая его менее репрезентативным для данных. Медиана, как правило, более устойчива к выбросам.

```mermaid
graph TD
    A[Выбросы] --> B[Среднее значение]
    A --> C[Медиана]
    B --> D[Искажение]
    C --> E[Устойчивость]
```

*Диаграмма выше показывает влияние выбросов на меры центральной тенденции.*

## Пример анализа выбросов

Рассмотрим пример анализа выбросов в данных о прокате велосипедов:

1. **Загрузка данных и библиотек:**
   - Библиотека Pandas.
   - Библиотека NumPy.
   - Данные о прокате велосипедов.

2. **Анализ основных статистических характеристик:**
   - Минимальное и максимальное значения.
   - Первый и третий квартили.
   - Интерквартильный размах.

3. **Определение выбросов через интерквартильный размах:**
   - Вычисление границ выбросов.
   - Фильтрация данных для выявления выбросов.

4. **Определение выбросов через среднее квадратичное отклонение:**
   - Вычисление среднего значения и стандартного отклонения.
   - Определение границ выбросов.
   - Фильтрация данных для выявления выбросов.

5. **Сравнение мер центральной тенденции:**
   - Среднее значение и медиана для исходных данных.
   - Среднее значение и медиана для данных без выбросов.

```mermaid
timeline
    title Процесс анализа выбросов
    section Загрузка данных
        Загрузка библиотек : 2023-10-01, 1d
        Загрузка данных : 2023-10-02, 1d
    section Анализ характеристик
        Минимальное и максимальное значения : 2023-10-03, 1d
        Квартили и IQR : 2023-10-04, 1d
    section Выявление выбросов
        Интерквартильный размах : 2023-10-05, 1d
        Среднее квадратичное отклонение : 2023-10-06, 1d
    section Сравнение мер
        Среднее значение и медиана : 2023-10-07, 1d
```

*Диаграмма выше иллюстрирует этапы анализа выбросов в данных о прокате велосипедов.*